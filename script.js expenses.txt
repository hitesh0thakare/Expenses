const form = document.getElementById("form");
const text = document.getElementById("text");
const amount = document.getElementById("amount");
const list = document.getElementById("list");
const balanceAmount = document.getElementById("balanceAmount");

let transactions = [];

form.addEventListener("submit", (e) => {
    e.preventDefault();

    if (text.value === "" || amount.value === "") {
        alert("Please fill all fields");
        return;
    }

    const transaction = {
        id: Date.now(),
        text: text.value,
        amount: Number(amount.value)
    };

    transactions.push(transaction);
    addTransactionDOM(transaction);
    updateBalance();

    text.value = "";
    amount.value = "";
});

function addTransactionDOM(transaction) {
    const item = document.createElement("li");

    item.className = transaction.amount < 0 ? "minus" : "plus";

    item.innerHTML = `
        ${transaction.text}
        <span>${transaction.amount}</span>
    `;

    list.appendChild(item);
}

function updateBalance() {
    const total = transactions
        .map(t => t.amount)
        .reduce((acc, val) => acc + val, 0);

    balanceAmount.innerText = `â‚¹${total}`;
}
